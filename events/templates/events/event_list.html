{% extends "main/base.html" %} {% load static %} {% block title %}Events - The
Pet People{% endblock %} {% block content %}

<!-- HERO SECTION -->
<section
  class="relative h-[60vh] md:h-[70vh] w-full overflow-hidden mt-[80px] bg-white"
>
  <video
    autoplay
    muted
    loop
    playsinline
    class="absolute inset-0 w-full h-full object-cover"
  >
    <source src="{% static 'core/videos/hero1.mp4' %}" type="video/mp4" />
  </video>

  <div class="absolute inset-0 bg-black/40"></div>

  <div
    class="relative z-10 flex flex-col items-center justify-center h-full text-center text-white px-4"
  >
    <h1 class="text-4xl sm:text-5xl md:text-6xl font-['Cinzel'] tracking-wide">
      Our <span class="text-[var(--club-sand-light)]">Events</span>
    </h1>
    <p class="mt-3 text-lg md:text-xl text-white/85 max-w-2xl">
      Join us for fun-filled activities and community bonding.
    </p>
    <a
      href="#upcoming-events"
      class="mt-6 inline-block bg-[var(--club-sand)] hover:bg-[var(--club-rust)] text-white font-semibold uppercase py-3 px-8 rounded transition"
    >
      See Upcoming Events
    </a>
  </div>
</section>

<!-- MAIN CONTENT -->
<main class="max-w-7xl mx-auto px-6 py-20 bg-white">
  <!-- UPCOMING EVENTS -->
  <section id="upcoming-events" class="mb-20">
    <h3
      class="text-3xl font-['Cinzel'] text-[var(--club-dark-brown)] mb-8 border-l-4 border-[var(--club-rust-light)] pl-3"
    >
      Upcoming Events
    </h3>

    <div class="grid md:grid-cols-3 gap-8">
      {% for event in upcoming_events %}
      <div
        class="bg-[var(--club-sand-light)] rounded-xl overflow-hidden shadow-sm hover:shadow-md transition flex flex-col"
      >
        {% if event.image %}
        <img
          src="{{ event.image.url }}?q=auto&f=auto"
          alt="{{ event.title }}"
          class="h-48 w-full object-cover"
          loading="lazy"
        />
        {% else %}
        <img
          src="{% static 'core/images/hero4.webp' %}"
          alt="{{ event.title }}"
          class="h-48 w-full object-cover"
          loading="lazy"
        />
        {% endif %}

        <div class="p-6 flex flex-col flex-1">
          <h4 class="text-xl font-semibold mb-2 text-[var(--club-rust)]">
            {{ event.title }}
          </h4>

          <p class="text-sm text-[var(--club-dark-brown-light)] flex-1">
            {{ event.description|striptags|truncatewords:25 }}
          </p>

          <p class="mt-3 text-sm text-[var(--club-olive-light)]">
            ðŸ“… {{ event.date|date:"M d, Y" }}
          </p>

          <button
            onclick="openModal('{{ event.title|escapejs }}')"
            class="mt-4 bg-[var(--club-taupe)] hover:bg-[var(--club-rust)] text-white px-4 py-2 rounded-md font-semibold transition"
          >
            Register
          </button>
        </div>
      </div>
      {% empty %}
      <p class="text-[var(--club-dark-brown-light)] text-lg">
        No upcoming events at the moment.
      </p>
      {% endfor %}
    </div>
  </section>

  <!-- PAST EVENTS -->
  <section>
    <h3
      class="text-3xl font-['Cinzel'] text-[var(--club-dark-brown)] mb-8 border-l-4 border-[var(--club-rust-light)] pl-3"
    >
      Past Events
    </h3>

    <div class="grid md:grid-cols-3 gap-8">
      {% for event in past_events %}
      <div
        class="bg-[var(--club-sand-light)] rounded-xl overflow-hidden shadow-sm hover:shadow-md transition flex flex-col"
      >
        {% if event.image %}
        <img
          src="{{ event.image.url }}?q=auto&f=auto"
          alt="{{ event.title }}"
          class="h-48 w-full object-cover"
          loading="lazy"
        />
        {% else %}
        <img
          src="{% static 'core/images/hero4.webp' %}"
          alt="{{ event.title }}"
          class="h-48 w-full object-cover"
          loading="lazy"
        />
        {% endif %}

        <div class="p-6 flex flex-col flex-1">
          <h4 class="text-xl font-semibold mb-2 text-[var(--club-rust)]">
            {{ event.title }}
          </h4>

          <p class="text-sm text-[var(--club-dark-brown-light)] flex-1">
            {{ event.description|striptags|truncatewords:25 }}
          </p>

          <p class="mt-3 text-sm text-[var(--club-olive-light)]">
            ðŸ“… {{ event.date|date:"M d, Y" }}
          </p>
        </div>
      </div>
      {% empty %}
      <p class="text-[var(--club-dark-brown-light)] text-lg">
        No past events available yet.
      </p>
      {% endfor %}
    </div>
  </section>
</main>

<!-- REGISTER MODAL -->
<div
  id="registerModal"
  class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50"
>
  <div class="bg-white rounded-xl shadow-xl max-w-md w-full p-6 relative">
    <button
      onclick="closeModal()"
      class="absolute top-3 right-3 text-gray-500 hover:text-black"
    >
      âœ–
    </button>

    <h3
      id="modalEventTitle"
      class="text-2xl font-['Cinzel'] mb-5 text-[var(--club-rust)]"
    >
      Register
    </h3>

    <form class="space-y-4">
      <input
        type="text"
        placeholder="Your Name"
        class="w-full border rounded-lg px-3 py-2"
        required
      />
      <input
        type="email"
        placeholder="Your Email"
        class="w-full border rounded-lg px-3 py-2"
        required
      />
      <input
        type="tel"
        placeholder="Phone Number"
        class="w-full border rounded-lg px-3 py-2"
      />
      <button
        type="submit"
        class="w-full bg-[var(--club-rust-light)] hover:bg-[var(--club-rust)] text-white py-2 rounded-lg font-semibold transition"
      >
        Submit
      </button>
    </form>
  </div>
</div>

<script>
  function openModal(title) {
    document.getElementById("modalEventTitle").innerText =
      "Register for " + title;
    document.getElementById("registerModal").classList.remove("hidden");
    document.getElementById("registerModal").classList.add("flex");
  }

  function closeModal() {
    document.getElementById("registerModal").classList.add("hidden");
    document.getElementById("registerModal").classList.remove("flex");
  }
</script>

{% endblock %}
